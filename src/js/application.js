Opal.queue(function(Opal) {/* Generated by Opal 1.8.2 */
  var $truthy = Opal.truthy, $send = Opal.send, $rb_lt = Opal.rb_lt, $eqeq = Opal.eqeq, $rb_plus = Opal.rb_plus, $rb_divide = Opal.rb_divide, self = Opal.top, $nesting = [], $$ = Opal.$r($nesting), nil = Opal.nil, v = nil, t = nil, c = nil, cc = nil, left = nil;

  Opal.add_stubs('internet,video,left,touch,alert,play,text,data=,data,<,==,[],puts,+,circle,drag,to_f,max,min,currentTime,html,/');
  
  if ($truthy($$('Universe').$internet())) {
    v = self.$video((new Map([["path", "http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4"]])))
  } else {
    v = self.$video("video_missing")
  };
  v.$left(200);
  $send(v, 'touch', [true], function $$1(){var self = $$1.$$s == null ? this : $$1.$$s;

    return self.$alert(v.$play())}, {$$s: self});
  t = self.$text((new Map([["id", "my_text"], ["data", "play video"]])));
  $send(t, 'touch', [true], function $$2(){var self = $$2.$$s == null ? this : $$2.$$s;

    
    v['$data='](0);
    return $send(v, 'play', [26], function $$3(event){var self = $$3.$$s == null ? this : $$3.$$s;

      
      if (event == null) event = nil;
      t.$data("event is : " + (event));
      if (($eqeq(event['$[]']("frame"), 900) && ($truthy($rb_lt(v.$data(), 3))))) {
        
        self.$puts(v.$data());
        v.$data($rb_plus(v.$data(), 1));
        return v.$play(26);
      } else {
        return nil
      };}, {$$s: self});}, {$$s: self});
  c = self.$circle((new Map([["left", 123]])));
  $send(c, 'touch', [true], function $$4(){
    return v.$play("pause")});
  cc = self.$circle((new Map([["left", 0], ["width", 55], ["height", 55]])));
  left = 0;
  $send(cc, 'drag', ["locked"], function $$5(event){var dx = nil, min_left = nil, max_left = nil;

    
    if (event == null) event = nil;
    dx = event['$[]']("dx");
    left = $rb_plus(left, dx.$to_f());
    min_left = 0;
    max_left = 600;
    left = [min_left, left].$max();
    left = [left, max_left].$min();
    v.$html().$currentTime($rb_divide(left, 10));
    return cc.$left(left);});
  self.$puts("add lock x and y when drag");
  return self.$puts("restrict ro :view doesnt work");
});
